{"version":3,"sources":["../../js/statistics.js"],"names":[],"mappings":"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","file":"statistics.built.js","sourcesContent":["/* Shared */\nvar monthArray = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']\n\n/* Main stats page */\nvar rawDataIsLoading = false\nvar totalPokemon = 151\n\nfunction loadRawData () {\n  return $.ajax({\n    url: 'raw_data',\n    type: 'GET',\n    data: {\n      'pokemon': false,\n      'pokestops': false,\n      'gyms': false,\n      'scanned': false,\n      'seen': true,\n      'duration': document.getElementById('duration').options[document.getElementById('duration').selectedIndex].value\n    },\n    dataType: 'json',\n    beforeSend: function () {\n      if (rawDataIsLoading) {\n        return false\n      } else {\n        rawDataIsLoading = true\n      }\n    },\n    complete: function () {\n      rawDataIsLoading = false\n    }\n  })\n}\n\nfunction addElement (pokemonId, name) {\n  jQuery('<div/>', {\n    id: 'seen_' + pokemonId,\n    class: 'item'\n  }).appendTo('#seen_container')\n\n  jQuery('<div/>', {\n    id: 'seen_' + pokemonId + '_base',\n    class: 'container'\n  }).appendTo('#seen_' + pokemonId)\n\n  var imageContainer = jQuery('<div/>', {\n    class: 'image'\n  }).appendTo('#seen_' + pokemonId + '_base')\n\n  jQuery('<img/>', {\n    src: 'static/icons/' + pokemonId + '.png',\n    alt: 'Image for Pokemon #' + pokemonId\n  }).appendTo(imageContainer)\n\n  var baseDetailContainer = jQuery('<div/>', {\n    class: 'info'\n  }).appendTo('#seen_' + pokemonId + '_base')\n\n  jQuery('<div/>', {\n    id: 'name_' + pokemonId,\n    class: 'name'\n  }).appendTo(baseDetailContainer)\n\n  jQuery('<a/>', {\n    id: 'link_' + pokemonId,\n    href: 'http://www.pokemon.com/us/pokedex/' + pokemonId,\n    target: '_blank',\n    title: 'View in Pokedex',\n    text: name\n  }).appendTo('#name_' + pokemonId)\n\n  jQuery('<div/>', {\n    id: 'seen_' + pokemonId + '_details',\n    class: 'details'\n  }).appendTo('#seen_' + pokemonId)\n\n  jQuery('<div/>', {\n    id: 'count_' + pokemonId,\n    class: 'seen'\n  }).appendTo('#seen_' + pokemonId + '_details')\n\n  jQuery('<div/>', {\n    id: 'lastseen_' + pokemonId,\n    class: 'lastseen'\n  }).appendTo('#seen_' + pokemonId + '_details')\n\n  jQuery('<div/>', {\n    id: 'location_' + pokemonId,\n    class: 'location'\n  }).appendTo('#seen_' + pokemonId + '_details')\n\n  jQuery('<a/>', {\n    href: 'javascript:showOverlay(' + pokemonId + ');',\n    text: 'All Locations'\n  }).appendTo('#seen_' + pokemonId + '_details')\n}\n\nfunction processSeen (seen) {\n  var i;\n  var total = seen.total\n  var shown = []\n\n  seen.pokemon.sort(function (a, b) {\n    var sort = document.getElementById('sort')\n    var order = document.getElementById('order')\n\n    if (order.options[order.selectedIndex].value === 'desc') {\n      var tmp = b\n      b = a\n      a = tmp\n    }\n\n    if (sort.options[sort.selectedIndex].value === 'id') {\n      return a['pokemon_id'] - b['pokemon_id']\n    } else if (sort.options[sort.selectedIndex].value === 'name') {\n      if (a['pokemon_name'].toLowerCase() < b['pokemon_name'].toLowerCase()) {\n        return 1\n      }\n      if (a['pokemon_name'].toLowerCase() > b['pokemon_name'].toLowerCase()) {\n        return -1\n      }\n      return 0\n    } else {\n      // Default to count\n      if (a['count'] === b['count']) { // Same count: order by id\n        return b['pokemon_id'] - a['pokemon_id']\n      }\n      return a['count'] - b['count']\n    }\n  })\n\n  for (i = seen.pokemon.length - 1; i >= 0; i--) {\n    var item = seen.pokemon[i]\n    var percentage = (item['count'] / total * 100).toFixed(2)\n    var lastSeen = new Date(item['disappear_time'])\n    lastSeen = lastSeen.getHours() + ':' +\n    ('0' + lastSeen.getMinutes()).slice(-2) + ':' +\n    ('0' + lastSeen.getSeconds()).slice(-2) + ' ' +\n    lastSeen.getDate() + ' ' +\n    monthArray[lastSeen.getMonth()] + ' ' +\n    lastSeen.getFullYear()\n    var location = (item['latitude'] * 1).toFixed(7) + ', ' + (item['longitude'] * 1).toFixed(7)\n    if (!$('#seen_' + item['pokemon_id']).length) {\n      addElement(item['pokemon_id'], item['pokemon_name'])\n    }\n    $('#count_' + item['pokemon_id']).html('<strong>Seen:</strong> ' + item['count'].toLocaleString() + ' (' + percentage + '%)')\n    $('#lastseen_' + item['pokemon_id']).html('<strong>Last Seen:</strong> ' + lastSeen)\n    $('#location_' + item['pokemon_id']).html('<strong>Location:</strong> ' + location)\n    $('#seen_' + item['pokemon_id']).show()\n    // Reverting to classic javascript here as it's supposed to increase performance\n    document.getElementById('seen_container').insertBefore(document.getElementById('seen_' + item['pokemon_id']), document.getElementById('seen_container').childNodes[0])\n    shown.push(item['pokemon_id'])\n  }\n\n  // Hide any unneeded items\n  for (i = 1; i <= totalPokemon; i++) {\n    if (shown.indexOf(i) < 0) {\n      $('#seen_' + i).hide()\n    }\n  }\n\n  document.getElementById('seen_total').innerHTML = 'Total: ' + total.toLocaleString()\n}\n\n// Override UpdateMap in map.js to take advantage of a pre-existing interval.\nfunction updateMap (firstRun) {\n  var duration = document.getElementById('duration')\n  var header = 'Pokemon Seen in ' + duration.options[duration.selectedIndex].text\n  if ($('#seen_header').html() !== header) {\n    $('#seen_container').hide()\n    $('#loading').show()\n    $('#seen_header').html('')\n    $('#seen_total').html('')\n  }\n  loadRawData().done(function (result) {\n    processSeen(result.seen)\n    if ($('#seen_header').html() !== header) {\n      $('#seen_header').html(header)\n      $('#loading').hide()\n      $('#seen_container').show()\n    }\n  })\n}\n\nupdateMap()\n\n/* Overlay */\nvar detailsLoading = false\nvar detailInterval = null\nvar lastappearance = 1\nvar pokemonid = 0\nvar mapLoaded = false\nvar detailsPersist = false\nvar map = null\nvar heatmap = null\nvar heatmapNumPoints = -1\nvar heatmapPoints = []\nmapData.appearances = {}\n\nfunction loadDetails () {\n  return $.ajax({\n    url: 'raw_data',\n    type: 'GET',\n    data: {\n      'pokemon': false,\n      'pokestops': false,\n      'gyms': false,\n      'scanned': false,\n      'appearances': true,\n      'pokemonid': pokemonid,\n      'last': lastappearance\n    },\n    dataType: 'json',\n    beforeSend: function () {\n      if (detailsLoading) {\n        return false\n      } else {\n        detailsLoading = true\n      }\n    },\n    complete: function () {\n      detailsLoading = false\n    }\n  })\n}\n\nfunction showTimes (marker) {\n  var uuid = marker.position.lat().toFixed(7) + '_' + marker.position.lng().toFixed(7)\n  $('#times_list').html(appearanceTab(mapData.appearances[uuid]))\n  $('#times_list').show()\n}\n\nfunction closeTimes () {\n  $('#times_list').hide()\n  detailsPersist = false\n}\n\n// Overrides addListeners in map.js\nfunction addListeners (marker) { // eslint-disable-line no-unused-vars\n  marker.addListener('click', function () {\n    showTimes(marker)\n    detailsPersist = true\n  })\n\n  marker.addListener('mouseover', function () {\n    showTimes(marker)\n  })\n\n  marker.addListener('mouseout', function () {\n    if (!detailsPersist) {\n      $('#times_list').hide()\n    }\n  })\n\n  return marker\n}\n\n// Override map.js initMap\nfunction initMap () {\n  map = new google.maps.Map(document.getElementById('location_map'), {\n    zoom: 16,\n    center: {\n      lat: centerLat,\n      lng: centerLng\n    },\n    fullscreenControl: false,\n    streetViewControl: false,\n    mapTypeControl: true,\n    mapTypeControlOptions: {\n      style: google.maps.MapTypeControlStyle.DROPDOWN_MENU,\n      position: google.maps.ControlPosition.RIGHT_TOP,\n      mapTypeIds: [\n        google.maps.MapTypeId.ROADMAP,\n        google.maps.MapTypeId.SATELLITE,\n        'nolabels_style',\n        'dark_style',\n        'style_light2',\n        'style_pgo',\n        'dark_style_nl',\n        'style_light2_nl',\n        'style_pgo_nl'\n      ]\n    }\n  })\n\n  var styleNoLabels = new google.maps.StyledMapType(noLabelsStyle, {\n    name: 'No Labels'\n  })\n  map.mapTypes.set('nolabels_style', styleNoLabels)\n\n  var styleDark = new google.maps.StyledMapType(darkStyle, {\n    name: 'Dark'\n  })\n  map.mapTypes.set('dark_style', styleDark)\n\n  var styleLight2 = new google.maps.StyledMapType(light2Style, {\n    name: 'Light2'\n  })\n  map.mapTypes.set('style_light2', styleLight2)\n\n  var stylePgo = new google.maps.StyledMapType(pGoStyle, {\n    name: 'PokemonGo'\n  })\n  map.mapTypes.set('style_pgo', stylePgo)\n\n  var styleDarkNl = new google.maps.StyledMapType(darkStyleNoLabels, {\n    name: 'Dark (No Labels)'\n  })\n  map.mapTypes.set('dark_style_nl', styleDarkNl)\n\n  var styleLight2Nl = new google.maps.StyledMapType(light2StyleNoLabels, {\n    name: 'Light2 (No Labels)'\n  })\n  map.mapTypes.set('style_light2_nl', styleLight2Nl)\n\n  var stylePgoNl = new google.maps.StyledMapType(pGoStyleNoLabels, {\n    name: 'PokemonGo (No Labels)'\n  })\n  map.mapTypes.set('style_pgo_nl', stylePgoNl)\n\n  map.addListener('maptypeid_changed', function (s) {\n    Store.set('map_style', this.mapTypeId)\n  })\n\n  map.setMapTypeId(Store.get('map_style'))\n  google.maps.event.addListener(map, 'idle', updateMap)\n\n  mapLoaded = true\n\n  google.maps.event.addListener(map, 'zoom_changed', function () {\n    redrawAppearances(mapData.appearances)\n  })\n}\n\nfunction resetMap () {\n  $.each(mapData.appearances, function (key, value) {\n    mapData.appearances[key].marker.setMap(null)\n    delete mapData.appearances[key]\n  })\n\n  heatmapPoints = []\n  heatmapNumPoints = 0\n  if (heatmap) {\n    heatmap.setMap(null)\n  }\n\n  lastappearance = 0\n}\n\nfunction showOverlay (id) {\n  // Only load google maps once, and only if requested\n  if (!mapLoaded) {\n    initMap()\n  }\n  resetMap()\n  pokemonid = id\n  $('#location_details').show()\n  location.hash = 'overlay_' + pokemonid\n  updateDetails()\n  detailInterval = window.setInterval(updateDetails, 5000)\n\n  return false\n}\n\nfunction closeOverlay () { // eslint-disable-line no-unused-vars\n  $('#location_details').hide()\n  window.clearInterval(detailInterval)\n  closeTimes()\n  location.hash = ''\n  return false\n}\n\nfunction processAppearance (i, item) {\n  var saw = new Date(item['disappear_time'])\n  saw = saw.getHours() + ':' +\n  ('0' + saw.getMinutes()).slice(-2) + ':' +\n  ('0' + saw.getSeconds()).slice(-2) + ' ' +\n  saw.getDate() + ' ' +\n  monthArray[saw.getMonth()] + ' ' +\n  saw.getFullYear()\n  var uuid = item['latitude'].toFixed(7) + '_' + item['longitude'].toFixed(7)\n  if (!((uuid) in mapData.appearances)) {\n    if (item['marker']) {\n      item['marker'].setMap(null)\n    }\n    item['count'] = 1\n    item['times'] = [saw]\n    item['uuid'] = uuid\n    item['marker'] = setupPokemonMarker(item, true)\n\n    mapData.appearances[item['uuid']] = item\n  } else {\n    mapData.appearances[uuid].count++\n    mapData.appearances[uuid].times.push(saw)\n  }\n\n  heatmapPoints.push(new google.maps.LatLng(item['latitude'], item['longitude']))\n  lastappearance = Math.max(lastappearance, item['disappear_time'])\n}\n\nfunction redrawAppearances (appearances) {\n  $.each(appearances, function (key, value) {\n    var item = appearances[key]\n    if (!item['hidden']) {\n      var newMarker = setupPokemonMarker(item, true)\n      item['marker'].setMap(null)\n      appearances[key].marker = newMarker\n    }\n  })\n}\n\nfunction appearanceTab (item) {\n  var times = ''\n\n  $.each(item['times'], function (key, value) {\n    times = '<div class=\"row' + (key % 2) + '\">' + value + '</div>' + times\n  })\n\n  return `<div>\n                <a href=\"javascript:closeTimes();\">Close this tab</a>\n            </div>\n            <div class=\"row1\">\n                <strong>Lat:</strong> ${item['latitude'].toFixed(7)}\n            </div>\n            <div class=\"row0\">\n                <strong>Long:</strong> ${item['longitude'].toFixed(7)}\n            </div>\n            <div class=\"row1\">\n              <strong>Appearances:</strong> ${item['count'].toLocaleString()}\n            </div>\n            <div class=\"row0\"><strong>Times:</strong></div>\n            <div>\n                ${times}\n            </div>`\n}\n\nfunction updateDetails () {\n  loadDetails().done(function (result) {\n    $.each(result.appearances, processAppearance)\n\n    // Redraw the heatmap with all the new appearances\n    if (heatmapNumPoints !== heatmapPoints.length) {\n      if (heatmap) {\n        heatmap.setMap(null)\n      }\n      heatmap = new google.maps.visualization.HeatmapLayer({\n        data: heatmapPoints,\n        map: map,\n        radius: 50\n      })\n      heatmapNumPoints = heatmapPoints.length\n    }\n  })\n}\n\nif (location.href.match(/overlay_[0-9]+/g)) {\n  showOverlay(location.href.replace(/^.*overlay_([0-9]+).*$/, '$1'))\n}\n"]}